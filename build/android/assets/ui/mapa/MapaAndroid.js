function MapaAndroid(){{var e="",t=Ti.Platform.osname;Ti.Platform.version,Ti.Platform.displayCaps.platformHeight,Ti.Platform.displayCaps.platformWidth}e="iphone"===t||"ipad"===t?"":"mobileweb"===t?"":"/",Ti.API.info("Ruta1:"+Titanium.Filesystem.getResourcesDirectory()),Ti.API.info("Ruta2:"+Titanium.Filesystem.getApplicationDataDirectory());var a=Titanium.UI.createWindow({theme:"Theme.NoActionBar",backgroundColor:"white",exitOnClose:!1,modal:!0,layout:"composite",navBarHidden:!0}),o=Ti.Platform.displayCaps.platformWidth,n=(Ti.Platform.displayCaps.platformHeight,Titanium.UI.createButton({backgroundImage:e+"ui/img/android/header.png",top:"0px",left:"0",height:"110px",width:o+"px"}));n.addEventListener("click",function(){a.close()});var r=Titanium.UI.createView({backgroundImage:e+"ui/img/android/barra-menu.jpg",top:"0px",height:"15%",widht:o+"px",zIndex:9999,layout:"composite"}),d=Titanium.UI.createView({backgroundColor:"transparent",height:"90px",widht:"80%",zIndex:9999}),l=Titanium.UI.createImageView({image:e+"ui/img/android/camion.png",left:"10%",width:"12%",height:"62%",zIndex:9999}),s=Titanium.UI.createImageView({image:e+"ui/img/android/titulo.png",left:"24%",width:"65%",height:"60%",zIndex:9999});d.add(l),d.add(s),r.add(d),a.add(r);var m=Titanium.UI.createImageView({image:e+"ui/img/android/radar-banner.png",top:"20%",left:"0%",width:"25%",height:"10%",zIndex:9999});a.add(m);var c=("android"===Ti.Platform.name?16:14,Titanium.UI.createButton({backgroundColor:"#0F5E8B",color:"white",title:"TrucksApp",textAlign:"center",top:0,left:0,height:"12%",width:o,tintColor:"white"}),require("ti.map")),p=0,u=Titanium.Filesystem.getFile(Titanium.Filesystem.getApplicationDataDirectory(),"numtrucks.json");u.exists()?(fileTmp=JSON.parse(u.read().text),p=fileTmp.trucks,Ti.API.info("Se lee el Num de Trucks desde APD"+p)):(u=Titanium.Filesystem.getFile(Titanium.Filesystem.getResourcesDirectory(),"numtrucks.json"),fileTmp=JSON.parse(u.read().text),p=fileTmp.trucks,Ti.API.info("Se lee el Num Trucks desde RD"+p));var T=new Array(p);for(i=0;20>i;i++){Ti.API.info("Buscando Archivo:"+(i+1)+".json");var g=Titanium.Filesystem.getFile(Titanium.Filesystem.getApplicationDataDirectory(),i+1+".json"),f=[],h="";g.exists()?(h=Titanium.Filesystem.getApplicationDataDirectory(),f=JSON.parse(g.read().text),Ti.API.info("Se obtienen datos de AD"+f),T[i]=c.createAnnotation({latitude:f.datos.latitud,longitude:f.datos.longitude,title:f.datos.nombre,subtitle:"Truck",pincolor:c.ANNOTATION_RED,image:h+f.datos.idTruck+"s.png",myid:f.datos.idTruck})):Ti.API.info("No se pudieron obtener los datos")}var v=Ti.UI.createWindow({backgroundColor:"white"}),I=(Titanium.UI.createTab({icon:"KS_nav_views.png",title:"Tab 1",window:v}),c.createAnnotation({latitude:19.444706,longitude:-99.167377,title:"Truck1",subtitle:"Comida Etíope",pincolor:c.ANNOTATION_RED,image:e+"ui/img/android/elbuen-logo-90.png",myid:1}),c.createAnnotation({latitude:19.441782,longitude:-99.161106,title:"Truck2",subtitle:"Comida Árabe",pincolor:c.ANNOTATION_RED,image:e+"ui/img/android/genco-logo-90.png",myid:1}),c.createAnnotation({latitude:19.447295,longitude:-99.179646,title:"Truck3",subtitle:"Comida Corrida",pincolor:c.ANNOTATION_RED,image:e+"ui/img/android/mezquite-logo-90.png",myid:1}),c.createView({mapType:c.NORMAL_TYPE,region:{latitude:19.441718,longitude:-99.160461,latitudeDelta:.05,longitudeDelta:.05},animate:!0,regionFit:!0,userLocation:!0,height:"100%",top:0,left:0,width:"100%",annotations:T}));I.addEventListener("click",function(i){var e=i.clicksource;if(Ti.API.info("Annotation "+i.title+" clicked, id: "+i.annotation.myid),"title"==e){var t=require("ui/perfil/Perfil");new t(""+i.annotation.myid).open()}if("subtitle"==e){var t=require("ui/perfil/Perfil");new t(""+i.annotation.myid).open()}}),a.add(I);var A=Titanium.UI.createView({backgroundImage:e+"ui/img/android/barra-menu.jpg",top:"85%",height:"15%",widht:o+"px",zIndex:9999});a.add(A);var w=Ti.UI.createView({layout:"horizontal",height:Ti.UI.SIZE,width:Ti.UI.SIZE}),y=Titanium.UI.createButton({backgroundImage:e+"ui/img/android/gps-radar.png",width:"14%",zIndex:9999});y.addEventListener("click",function(){Ti.API.info("Click en el botòn Index");var i=require("ui/common/Index");(new i).open()});var k=Titanium.UI.createButton({backgroundImage:e+"ui/img/android/truck-radar.png",width:"14%",zIndex:9999});k.addEventListener("click",function(){Ti.API.info("Click en el botòn Index");var i=require("ui/favoritos/FavoritosAndroid");(new i).open()});var b=Titanium.UI.createButton({backgroundImage:e+"ui/img/android/promo-radar.png",width:"14%",zIndex:9999}),P=Titanium.UI.createButton({backgroundImage:e+"ui/img/android/estrella-radar.png",width:"14%",zIndex:9999}),x=Titanium.UI.createButton({backgroundImage:e+"ui/img/android/eventos-radar.png",width:"14%",zIndex:9999});x.addEventListener("click",function(){Ti.API.info("Click en el botòn Index");var i=require("ui/eventos/EventosAndroid");(new i).open()});var S=Titanium.UI.createButton({backgroundImage:e+"ui/img/android/antojo-radar.png",width:"14%",zIndex:9999}),C=Titanium.UI.createButton({backgroundImage:e+"ui/img/android/magazine-radar.png",width:"14%",zIndex:9999});return w.add(y),w.add(k),w.add(b),w.add(P),w.add(x),w.add(S),w.add(C),A.add(w),a}module.exports=MapaAndroid;
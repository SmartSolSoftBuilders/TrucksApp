function Index(){{var i="",e=Ti.Platform.osname;Ti.Platform.version,Ti.Platform.displayCaps.platformHeight,Ti.Platform.displayCaps.platformWidth}i="iphone"===e||"ipad"===e?"":"mobileweb"===e?"":"/";var a=Ti.Platform.displayCaps.platformWidth,t=Ti.Platform.displayCaps.platformHeight;Ti.API.info("Ti.Platform.displayCaps.density: "+Ti.Platform.displayCaps.density),Ti.API.info("Ti.Platform.displayCaps.dpi: "+Ti.Platform.displayCaps.dpi),Ti.API.info("Ti.Platform.displayCaps.platformHeight: "+Ti.Platform.displayCaps.platformHeight),Ti.API.info("Ti.Platform.displayCaps.platformWidth: "+Ti.Platform.displayCaps.platformWidth),"android"===Ti.Platform.osname&&(Ti.API.info("Ti.Platform.displayCaps.xdpi: "+Ti.Platform.displayCaps.xdpi),Ti.API.info("Ti.Platform.displayCaps.ydpi: "+Ti.Platform.displayCaps.ydpi),Ti.API.info("Ti.Platform.displayCaps.logicalDensityFactor: "+Ti.Platform.displayCaps.logicalDensityFactor));var o=Titanium.UI.createWindow({backgroundImage:i+"ui/img/android/lineas-bg.png",backgroundRepeat:!0,exitOnClose:!0,theme:"Theme.NoActionBar",layout:"vertical",height:t+"px",width:a+"px",title:"Inicio",navBarHidden:!0}),n=(Titanium.UI.createButton({backgroundImage:i+"ui/img/android/barra-menu.jpg",top:"0px",left:"0",height:"110px",width:a+"px"}),Titanium.UI.createView({backgroundImage:i+"ui/img/android/barra-menu.jpg",top:"0px",height:"110px",widht:a+"px",zIndex:9999,layout:"composite"})),r=Titanium.UI.createView({backgroundColor:"transparent",height:"90px",widht:"80%",zIndex:9999}),s=Titanium.UI.createImageView({image:i+"ui/img/android/camion.png",left:"10%",width:"12%",height:"62%",zIndex:9999}),l=Titanium.UI.createImageView({image:i+"ui/img/android/titulo.png",left:"24%",width:"65%",height:"60%",zIndex:9999});r.add(s),r.add(l),n.add(r);for(var c=["radar","trucks","eventos","estaciones","promociones","con-antojo-de","magazine"],p=["icon1","icon2","icon3","icon4","icon5","icon6","icon7"],d=[],m=new Array(7),u=1;7>=u;u++){m[u-1]=Ti.UI.createTableViewRow({className:"forumEvent",backgroundImage:i+"ui/img/android/lineas-bg.png",rowIndex:u,height:60});var T=Ti.UI.createImageView({image:i+"ui/img/android/bullet.png",left:-10,top:5,height:50,width:50});m[u-1].add(T);var g=Ti.UI.createImageView({image:i+"ui/img/android/"+c[u-1]+".png",left:-5,top:5,height:40});m[u-1].add(g);var f=Ti.UI.createImageView({image:i+"ui/img/android/"+p[u-1]+".png",left:270,top:5,height:40,width:40});m[u-1].add(f),1==u&&m[u-1].addEventListener("click",function(){Ti.API.info("Click en el botòn Mapa");var i=Titanium.Network.createHTTPClient({onload:function(){Ti.API.info("Se actualizó la bd de Posiciones de los Trucks.");var i=JSON.parse(this.responseText),e=(this.reply||[],i.numtrucks),a=i.trucks,t=i.version;for(Ti.API.info("Se actualizó la bd de Posiciones de los Trucks."+a[0]+"Se consultó desde el dispositivo en:"+t),u=0;e>u;u++){var o=a[u],n=Titanium.Filesystem.getFile(Titanium.Filesystem.getApplicationDataDirectory(),a[u].idTruck+".json");n.exists()&&n.deleteFile(),n.write('{"datos":'+JSON.stringify(o)+"}"),Ti.API.info("Actualizo archivo de Truck desde APD:"+o)}var r=Titanium.Filesystem.getFile(Titanium.Filesystem.getApplicationDataDirectory(),"fechaAct.json");r.write('{"fechaActualizacion":"'+t+'"}'),Ti.API.info("Actualizo la fecha de actualización:"+t);var s=Titanium.Filesystem.getFile(Titanium.Filesystem.getApplicationDataDirectory(),"numtrucks.json");s.write('{"trucks":'+e+"}"),Ti.API.info("Actualizo el num de Trucks:"+e);var l=require("ui/mapa/MapaAndroid");(new l).open()},onerror:function(){var i=require("ui/mapa/MapaAndroid");(new i).open()},timeout:1e3});Ti.API.info("Buscando fecha a actualizar:");var e=Titanium.Filesystem.getFile(Titanium.Filesystem.getApplicationDataDirectory(),"fechaAct.json"),a="";e.exists()?(fileTmp=JSON.parse(e.read().text),a=fileTmp.fechaActualizacion,Ti.API.info("Ultima fecha de actualización:"+a)):(Ti.API.info("Se busca por primera vez"),a="2014-10-01 13:00:0"),i.open("GET","http://s544443713.onlinehome.mx/AppTrucks/app/getTrucksPositions.php?d="+a),i.send()}),2==u&&m[u-1].addEventListener("click",function(){var i=require("ui/favoritos/FavoritosAndroid");(new i).open()}),3==u&&m[u-1].addEventListener("click",function(){Ti.API.info("Click en el botòn Eventos");var i=require("ui/eventos/EventosAndroid");(new i).open()}),d.push(m[u-1])}var v=Ti.UI.createTableView({data:d,zIndex:10});o.add(n);var I=Ti.UI.createImageView({backgroundImage:i+"ui/img/android/lineas-bg.png",image:i+"ui/img/android/contenido.png",left:0,top:0,height:40});return o.add(I),o.add(v),o}module.exports=Index;